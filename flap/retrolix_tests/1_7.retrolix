def fact(n)
  %rdi <- copy n;
l1 : jumpif lte %rdi, 1 -> l3, l2;
l2 : %rax <- copy %rdi;
n <- sub %rdi, 1;
%rax <- mul %rax, fact(n);
jump l4;
l3 : %rax <- copy 1;
l4 : %rax <- copy %rax;
end

globals(x)
  local n :
  n <- copy 5;
  fact(n);
  %rdi <- copy %rax;
  x <- copy %rdi;
end

globals()
  %rdi <- copy x;
  observe_int ();
end